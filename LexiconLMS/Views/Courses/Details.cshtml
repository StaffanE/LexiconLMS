@model LexiconLMS.Models.Course

@{
    ViewBag.Title = "Kurs detaljerad beskrivning";
    ViewBag.GoBackToView = "../Courses/Details/";
    ViewBag.GoBackToUrl = "../Courses/Details/" + Model.Id;
    ViewBag.CourseId = Model.Id;
}
<h2>@Html.DisplayFor(model => model.Group.Name) / @Html.DisplayFor(model => model.Name)/</h2>
@using GridMvc.Html;
@using LexiconLMS;
<div>
    <h4>Kurs detaljerad beskrivning</h4>
    <hr />
    <dl class="dl-horizontal">
        <dt>
            @Html.DisplayNameFor(model => model.Group.Name)
        </dt>

        <dd>
            @Html.ActionLink(Model.Group.Name, "../Groups/Details", new { id = Model.GroupId })
            @*@Html.DisplayFor(model => model.Group.Name)*@
        </dd>

        <dt>
            @Html.DisplayNameFor(model => Model.Name)
        </dt>

        <dd>
            @Html.ActionLink(Model.Name, "../Courses/Details", new { id = Model.Id })
            @*@Html.DisplayFor(model => model.Name)*@
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Description)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Description)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.StartDate)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.StartDate)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.EndDate)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.EndDate)
        </dd>

        <dd>
            <h3 style="background: rgba(0, 137, 208, 0.6);color:#FFFFFF">Aktiviteter ingående i @Html.DisplayFor(model => model.Name) </h3>
            <table class="table">
                @for (int i = 0; i < 1; i++) 
                { 
                <tr style="background:rgba(0, 137, 208, 0.8);color:#FFFFFF">
                    <th>
                        @Html.DisplayNameFor(model => model.StartDate)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.EndDate)
                    </th>

                    <th>
                        @Html.DisplayNameFor(model => model.Id)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.Name)
                    </th>
                    <td>
                        @Html.Display("Aktivitetstyp") 
                    </td>

                    <th>
                        @Html.DisplayNameFor(model => model.Description)
                    </th>
                    <th>
                        @Html.Display("Deadline")
                    </th>
                </tr>
                }
                @foreach (var item in Model.CourseActivities)
                {
                    string visibleText = ExtensionMethods.trTextColor(item.StartTime, item.EndTime);
                    string GoToUrl = "../Activities/Details";
                    string GoToUrlForId = @GoToUrl+"/"+item.Id;
                    <tr style=@ExtensionMethods.trColor(item.StartTime,item.EndTime) onclick="this.children[0].children[0].click();">
                        <td>
                            @Html.ActionLink(item.StartTime.ToString("yyyy-MM-dd hh:mm"), @GoToUrl, new { id = item.Id }, new { @class = @visibleText })
                        </td>
                        <td>
                            @Html.ActionLink(item.EndTime.ToString("yyyy-MM-dd hh:mm"), @GoToUrl, new { id = item.Id }, new { @class = @visibleText })
                        </td>
                        <td>
                            @Html.ActionLink(item.Id.ToString(), @GoToUrl, new { id = item.Id }, new { @class = @visibleText })
                        </td>
                        <td>
                            @Html.ActionLink(item.Name, @GoToUrl, new { id = item.Id }, new { @class = @visibleText })
                        </td>
                        <td>
                            @Html.ActionLink(ExtensionMethods.DisplayFor(item.ActivityType), @GoToUrl, new { id = item.Id }, new { @class = @visibleText })
                        </td>
                        <td>
                            @Html.ActionLink(item.Description, @GoToUrl, new { id = item.Id }, new { @class = @visibleText})
                        </td>
                        <td>
                            @Html.DisplayFor(model => item.Deadline)
                        </td>
                    </tr>
                }
            </table>
        </dd>
    </dl>
</div>
@*@Html.Partial("../Activities/_PartialActivities")*@
<p>
    @if (User.IsInRole("Teacher")) {@Html.ActionLink("Ändra", "Edit", new { id = Model.Id })}
    @Html.ActionLink("Åter till lista", "Index")
</p>
@*@Html.Partial("_PartialCourseActivites.cshtml", IEnumerable<LexiconLMS.Models.Activities>)*@